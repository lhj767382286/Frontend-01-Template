浮点数，运算会造成精度丢失



https://jsfiddle.net/pLh8qeor/19/



十进制转二进制 整数部分：除二取余 小数部分：乘二取整 0.1 * 2 = 0.2 --> 0 0.2 * 2 = 0.4 --> 0 0.4 * 2 = 0.8 --> 0 0.8 * 2 = 1.6 --> 1 --> 0.6 0.6 * 2 = 1.2 --> 1 0.2 * 2 = 0.4 --> 0 0.4 * 2 = 0.8 --> 0 0.8 * 2 = 1.6 --> 1 --> 0.6 ... 循环





## Expression

### Grammer

#### Tree vs Priority

* `+ -`
* `* /`
* `()`



![image-20200423202524448](https://tva1.sinaimg.cn/large/007S8ZIlgy1ge3z0i8acdj30cs0byq4j.jpg)

#### Member

> Member 运算，访问成员/属性

* `a.b`
* `a[b]`
* foo \`string\`
* `super.b`
* `super['b']`
* `new.target`
* `new Foo()`



```javascript
// P201
MemberExpression: 
	PrimaryExpression
	MemberExpression
	MemberExpression . IdentifierName
	// ...


function foo(){
	console.log(new.target);
}
foo(); // undefined;

new foo(); // foo{..}

function foo1(){
	console.log(this);
}
foo1() // foo1 {}

// new.target 目的排除 无从判断一个对象是否被 new 出来的



// foo `string`
let name = 'winter';
function foo () {
  console.log(arguments);
}
foo `Hello ${name}!`; // [['Hello', '!'], 'winter']
```

#### New

* `new Foo`

```javascript
// new
new a();
new new a();
// 带括号的优先级更高
function cls1(s){
  console.log(s)
}
function cls2(s) {
	console.log("2", s);
  return cls1;
}

new new cls2("good")

// 2 good
// undefined
// cls1 {}
```

#### Call

> 函数调用

* foo()
* super()
* foo()['b']
* foo().b
* foo() \`abc\`



```javascript
new a()['b']
```



Member New Call 其实是为了让 New 更符合预期合理



#### Left Handside

> 可以理解为 = 号左右边

左值表达式：

极限现象就是 call

运行时是个 reference

语法上是个 left handside





```
a.b = c;
a + b = c;
```

#### Right Handside

* Update
  * a ++
  * a --
  * -- a
  * ++ a



```javascript
++ a ++
++ (a++)

// P178 no LineTerminator  语法与词法特殊之处

var a = 1, b = 1, c = 1

a
++
b
++
c

// a = 1, b = 2, c = 2

a/*

*/++
b/*
*/

// a = 1, b = 3
```





* Unary 单目运算符
  * Delete a.b
  * void foo()
  * typeof a
  * `+ a`
  * `- a`
  * `~ a`
  * `!a`
  * `await a`



```javascript
void 在 js 中是一个运算符

function(var i = 0; i < 10; i++) {
  var button = document.createElement("button");
  document.body.appendChild(button)
  button.innterHTML = i
  void function(i){
    button.onClick = function () {
      console.log(i)
    }(i);
  }
}

// 加 void，
// 语义正确
// 如果前面忘记写分号，用"("会有问题
```



* Exponental
  * `**` 

```
唯一一个右结合的运算符
```



* Multiplicative
  * `* / %`
* Additive
  * `+ -`
* `Shift`
  * ``



````
逻辑运算 -> 短路逻辑


?:

,

=> 
````





## Reference

delete删除的是引用的地址

- Object
- Key



```javascript
delete
assign
```





```
var obj2 = {   [Symbol.toPrimitive](hint) {     if (hint == "number") {       return 10;     }     if (hint == "string") {       return "hello";     }     return true;   } }; console.log(+obj2);     // 10      -- hint 参数值是 "number" console.log(`${obj2}`); // "hello" -- hint 参数值是 "string" console.log(obj2 + ""); // "true"  -- hint 参数值是 "default"
```

![image-20200423221042398](https://tva1.sinaimg.cn/large/007S8ZIlgy1ge4222bsbmj30pi09o75a.jpg)

![image-20200423221517936](https://tva1.sinaimg.cn/large/007S8ZIlgy1ge426uul3aj30vy0dgdmd.jpg)